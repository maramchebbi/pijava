<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.collections.FXCollections?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.paint.LinearGradient?>
<?import javafx.scene.paint.Stop?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<AnchorPane prefHeight="800.0" prefWidth="1550.0" style="-fx-background-color: linear-gradient(to bottom right, #f8f9fa, #e9ecef);" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.AjouterUserController">
   <children>
      <!-- Header avec titre et bouton retour -->
      <HBox alignment="CENTER_LEFT" layoutX="0.0" layoutY="0.0" prefHeight="70.0" prefWidth="900.0" spacing="15.0" style="-fx-background-color: rgba(255,255,255,0.8); -fx-background-radius: 0 0 15 15; -fx-padding: 0 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
         <children>
            <Button onAction="#annulerAction" style="-fx-background-color: transparent;">
               <graphic>
                  <ImageView fitHeight="25.0" fitWidth="25.0" pickOnBounds="true" preserveRatio="true">
                     <image>
                        <Image url="@image/back_arrow.png" />
                     </image>
                  </ImageView>
               </graphic>
            </Button>
            <Text strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-font-weight: bold; -fx-fill: #2c3e50;" text="Ajouter un nouvel utilisateur">
               <font>
                  <Font name="Segoe UI Semibold" size="24.0" />
               </font>
               <fill>
                  <LinearGradient endX="1.0" endY="1.0">
                     <stops>
                        <Stop color="#3498db" />
                        <Stop color="#2c3e50" offset="1.0" />
                     </stops>
                  </LinearGradient>
               </fill>
            </Text>
         </children>
      </HBox>

      <!-- Contenu principal -->
      <StackPane layoutX="50.0" layoutY="110.0" AnchorPane.bottomAnchor="50.0" AnchorPane.leftAnchor="50.0" AnchorPane.rightAnchor="50.0" AnchorPane.topAnchor="100.0">
         <children>
            <!-- Carte avec formulaire -->
            <VBox prefHeight="630.0" prefWidth="799.0" spacing="30.0" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 30; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 15, 0, 0, 5);">
               <children>
                  <!-- Titre section -->
                  <HBox alignment="CENTER_LEFT" spacing="15.0">
                     <children>
                        <StackPane>
                           <children>
                              <Circle radius="25.0" style="-fx-fill: #3498db;" />
                              <Text fill="WHITE" strokeType="OUTSIDE" strokeWidth="0.0" text="👤">
                                 <font>
                                    <Font size="20.0" />
                                 </font>
                              </Text>
                           </children>
                        </StackPane>
                        <VBox>
                           <children>
                              <Text strokeType="OUTSIDE" strokeWidth="0.0" text="Informations personnelles">
                                 <font>
                                    <Font name="System Bold" size="18.0" />
                                 </font>
                              </Text>
                              <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Veuillez remplir les informations de l'utilisateur">
                                 <font>
                                    <Font size="14.0" />
                                 </font>
                              </Text>
                           </children>
                        </VBox>
                     </children>
                  </HBox>

                  <Separator />

                  <!-- Formulaire -->
                  <GridPane hgap="20.0" prefHeight="430.0" prefWidth="738.0" vgap="20.0">
                     <rowConstraints>
                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                     </rowConstraints>
                     <children>
                        <!-- Nom -->
                        <VBox spacing="5.0">
                           <children>
                              <HBox alignment="CENTER_LEFT" spacing="5.0">
                                 <children>
                                    <Label text="Nom" textFill="#2c3e50">
                                       <font>
                                          <Font name="System Bold" size="14.0" />
                                       </font>
                                    </Label>
                                    <Label text="*" textFill="#e74c3c">
                                       <font>
                                          <Font name="System Bold" size="14.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                              <TextField fx:id="NomTextField" prefHeight="40.0" promptText="Entrez le nom de famille" style="-fx-background-color: #f5f6fa; -fx-background-radius: 5; -fx-border-color: #dfe4ea; -fx-border-radius: 5; -fx-padding: 8;">
                                 <font>
                                    <Font size="14.0" />
                                 </font>
                              </TextField>
                              <Label fx:id="NomErrorLabel" textFill="#e74c3c">
                                 <font>
                                    <Font size="12.0" />
                                 </font>
                              </Label>
                           </children>
                        </VBox>

                        <!-- Prénom -->
                        <VBox spacing="5.0" GridPane.columnIndex="1">
                           <children>
                              <HBox alignment="CENTER_LEFT" spacing="5.0">
                                 <children>
                                    <Label text="Prénom" textFill="#2c3e50">
                                       <font>
                                          <Font name="System Bold" size="14.0" />
                                       </font>
                                    </Label>
                                    <Label text="*" textFill="#e74c3c">
                                       <font>
                                          <Font name="System Bold" size="14.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                              <TextField fx:id="PrenomTextField" prefHeight="40.0" promptText="Entrez le prénom" style="-fx-background-color: #f5f6fa; -fx-background-radius: 5; -fx-border-color: #dfe4ea; -fx-border-radius: 5; -fx-padding: 8;">
                                 <font>
                                    <Font size="14.0" />
                                 </font>
                              </TextField>
                              <Label fx:id="PrenomErrorLabel" textFill="#e74c3c">
                                 <font>
                                    <Font size="12.0" />
                                 </font>
                              </Label>
                           </children>
                        </VBox>

                        <!-- Genre -->
                        <VBox spacing="5.0" GridPane.rowIndex="1">
                           <children>
                              <HBox alignment="CENTER_LEFT" spacing="5.0">
                                 <children>
                                    <Label text="Genre" textFill="#2c3e50">
                                       <font>
                                          <Font name="System Bold" size="14.0" />
                                       </font>
                                    </Label>
                                    <Label text="*" textFill="#e74c3c">
                                       <font>
                                          <Font name="System Bold" size="14.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                              <ComboBox fx:id="GenreComboBox" prefHeight="40.0" prefWidth="350.0" promptText="Sélectionner le genre" style="-fx-background-color: #f5f6fa; -fx-border-color: #dfe4ea; -fx-border-radius: 5; -fx-background-radius: 5;">
                                 <items>
                                    <javafx.collections.FXCollections fx:factory="observableArrayList">
                                       <String fx:value="Homme" />
                                       <String fx:value="Femme" />
                                    </javafx.collections.FXCollections>
                                 </items>
                              </ComboBox>
                              <Label fx:id="GenreErrorLabel" textFill="#e74c3c">
                                 <font>
                                    <Font size="12.0" />
                                 </font>
                              </Label>
                           </children>
                        </VBox>

                        <!-- Rôle -->
                        <VBox spacing="5.0" GridPane.columnIndex="1" GridPane.rowIndex="1">
                           <children>
                              <HBox alignment="CENTER_LEFT" spacing="5.0">
                                 <children>
                                    <Label text="Rôle" textFill="#2c3e50">
                                       <font>
                                          <Font name="System Bold" size="14.0" />
                                       </font>
                                    </Label>
                                    <Label text="*" textFill="#e74c3c">
                                       <font>
                                          <Font name="System Bold" size="14.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                              <ComboBox fx:id="RoleComboBox" prefHeight="40.0" prefWidth="350.0" promptText="Sélectionner le rôle" style="-fx-background-color: #f5f6fa; -fx-border-color: #dfe4ea; -fx-border-radius: 5; -fx-background-radius: 5;" />
                           </children>
                        </VBox>

                        <!-- Email -->
                        <VBox spacing="5.0" GridPane.columnSpan="2" GridPane.rowIndex="2">
                           <children>
                              <HBox alignment="CENTER_LEFT" spacing="5.0">
                                 <children>
                                    <Label text="Email" textFill="#2c3e50">
                                       <font>
                                          <Font name="System Bold" size="14.0" />
                                       </font>
                                    </Label>
                                    <Label text="*" textFill="#e74c3c">
                                       <font>
                                          <Font name="System Bold" size="14.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                              <TextField fx:id="EmailTextField" prefHeight="40.0" promptText="exemple@domaine.com" style="-fx-background-color: #f5f6fa; -fx-background-radius: 5; -fx-border-color: #dfe4ea; -fx-border-radius: 5; -fx-padding: 8;">
                                 <font>
                                    <Font size="14.0" />
                                 </font>
                              </TextField>
                              <Label fx:id="EmailErrorLabel" textFill="#e74c3c">
                                 <font>
                                    <Font size="12.0" />
                                 </font>
                              </Label>
                           </children>
                        </VBox>

                        <!-- Mot de passe -->
                        <VBox prefWidth="721.0" spacing="5.0" GridPane.columnSpan="2" GridPane.rowIndex="3">
                           <children>
                              <HBox alignment="CENTER_LEFT" spacing="5.0">
                                 <children>
                                    <Label text="Mot de passe" textFill="#2c3e50">
                                       <font>
                                          <Font name="System Bold" size="14.0" />
                                       </font>
                                    </Label>
                                    <Label text="*" textFill="#e74c3c">
                                       <font>
                                          <Font name="System Bold" size="14.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                              <HBox spacing="10.0">
                                 <children>
                                    <StackPane HBox.hgrow="ALWAYS">
                                       <children>
                                          <PasswordField fx:id="PasswordField" prefHeight="40.0" promptText="Minimum 6 caractères" style="-fx-background-color: #f5f6fa; -fx-background-radius: 5; -fx-border-color: #dfe4ea; -fx-border-radius: 5; -fx-padding: 8;" StackPane.alignment="CENTER_LEFT">
                                             <font>
                                                <Font size="14.0" />
                                             </font>
                                          </PasswordField>
                                          <TextField fx:id="VisiblePasswordField" managed="false" prefHeight="40.0" promptText="Minimum 6 caractères" style="-fx-background-color: #f5f6fa; -fx-background-radius: 5; -fx-border-color: #dfe4ea; -fx-border-radius: 5; -fx-padding: 8;" visible="false">
                                             <font>
                                                <Font size="14.0" />
                                             </font>
                                          </TextField>
                                       </children>
                                    </StackPane>
                                    <Button fx:id="toggleVisibilityBtn" mnemonicParsing="false" onAction="#togglePasswordVisibility" prefHeight="40.0" prefWidth="50.0" style="-fx-background-color: #f5f6fa; -fx-border-color: #dfe4ea; -fx-border-radius: 5; -fx-background-radius: 5;" text="👁">
                                       <font>
                                          <Font size="14.0" />
                                       </font>
                                    </Button>
                                 </children>
                              </HBox>
                              <Label fx:id="PasswordErrorLabel" textFill="#e74c3c">
                                 <font>
                                    <Font size="12.0" />
                                 </font>
                              </Label>
                           </children>
                        </VBox>
                     </children>
                     <columnConstraints>
                        <ColumnConstraints />
                        <ColumnConstraints />
                     </columnConstraints>
                  </GridPane>

                  <!-- Boutons actions -->
                  <HBox alignment="CENTER_RIGHT" spacing="20.0">
                     <children>
                        <Button onAction="#annulerAction" prefHeight="45.0" prefWidth="150.0" style="-fx-background-color: #f5f6fa; -fx-background-radius: 5; -fx-border-color: #dfe4ea; -fx-border-radius: 5;" text="Annuler">
                           <font>
                              <Font size="14.0" />
                           </font>
                        </Button>
                        <Button onAction="#ajouterAction" prefHeight="45.0" prefWidth="150.0" style="-fx-background-color: #3498db; -fx-background-radius: 5; -fx-text-fill: white;" text="Ajouter">
                           <font>
                              <Font name="System Bold" size="14.0" />
                           </font>
                           <effect>
                              <DropShadow color="rgba(52,152,219,0.3)" height="5.0" radius="2.0" width="5.0" />
                           </effect>
                        </Button>
                     </children>
                  </HBox>

                  <Separator />
               </children>
            </VBox>
         </children>
      </StackPane>
      <Rectangle arcHeight="20.0" arcWidth="20.0" fill="#e74c3c" height="150.0" layoutX="317.0" layoutY="592.0" opacity="0.05" width="150.0" />

                  <!-- Élément de design pour l'arrière-plan -->
      <Rectangle arcHeight="20.0" arcWidth="20.0" fill="#3498db" height="200.0" layoutX="685.0" layoutY="-16.0" opacity="0.05" width="200.0" />
   </children>
</AnchorPane>
