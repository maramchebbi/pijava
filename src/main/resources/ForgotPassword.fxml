<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Hyperlink?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.ColorAdjust?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>

<AnchorPane prefHeight="619.0" prefWidth="1056.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.ForgotPasswordController">

    <!-- Background Image with Overlay -->
    <ImageView fitHeight="746.0" fitWidth="1056.0" preserveRatio="false" AnchorPane.bottomAnchor="0.0">
        <image>
            <Image url="@image/dd.PNG" />
        </image>
        <effect>
            <ColorAdjust brightness="-0.2" />
        </effect>
    </ImageView>

    <!-- Semi-transparent overlay -->
    <Pane prefHeight="745.0" prefWidth="1056.0" style="-fx-background-color: rgba(0, 0, 0, 0.5);" AnchorPane.bottomAnchor="0.0">
      <children>
      
          <!-- Main Container -->
          <StackPane layoutX="278.0" layoutY="144.0" prefHeight="450.0" prefWidth="500.0">
              <Pane prefHeight="450.0" prefWidth="500.0" style="-fx-background-color: rgba(255, 255, 255, 0.9); -fx-background-radius: 15; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.3), 20, 0, 0, 0);" />
      
              <VBox alignment="CENTER" spacing="25" style="-fx-padding: 40;">
                  <!-- Title -->
                  <Text style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-fill: #2193b0;" text="🔐 Mot de passe oublié" />
      
                  <!-- Instruction -->
                  <Text style="-fx-font-size: 14px; -fx-fill: #555; -fx-text-alignment: center;" text="Entrez votre adresse email pour recevoir un lien de réinitialisation" wrappingWidth="400" />
      
                  <!-- Email Field -->
                  <TextField fx:id="emailField" promptText="Votre email" style="-fx-font-size: 14px; -fx-padding: 10px; -fx-pref-width: 350px;                             -fx-background-color: #ffffff; -fx-border-color: #6dd5ed;                             -fx-border-radius: 5px; -fx-focus-color: #2193b0;">
                      <effect>
                          <DropShadow color="rgba(33,147,176,0.3)" offsetX="2" offsetY="2" radius="5" />
                      </effect>
                  </TextField>
      
                  <!-- Submit Button -->
                  <Button onAction="#handleSendEmail" style="-fx-font-size: 16px; -fx-font-weight: bold;                          -fx-background-color: linear-gradient(to right, #2193b0, #6dd5ed);                          -fx-text-fill: white; -fx-padding: 12px 40px;                          -fx-background-radius: 25; -fx-cursor: hand;" text="Envoyer le lien">
                      <effect>
                          <DropShadow color="rgba(33,147,176,0.5)" offsetX="0" offsetY="4" radius="10" />
                      </effect>
                  </Button>
      
                  <!-- Status Message -->
                  <Label fx:id="statusLabel" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #e74c3c;" text="" />
      
                  <!-- Back Link -->
                  <Hyperlink onAction="#handleBackToLogin" style="-fx-text-fill: #3498db; -fx-font-size: 14px; -fx-cursor: hand;" text="Retour à la connexion" />
              </VBox>
          </StackPane>
      </children></Pane>
</AnchorPane>
