<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.effect.*?>
<?import javafx.scene.paint.*?>
<?import javafx.geometry.*?>
<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?>

<AnchorPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controller.ShowOeuvres" style="-fx-background-color: white;">

    <!-- Structure principale -->
    <BorderPane AnchorPane.topAnchor="0.0" AnchorPane.bottomAnchor="0.0"
                AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">

        <!-- En-tête avec navbar Pinterest-like -->
        <top>
            <VBox>
                <!-- Barre de navigation supérieure -->
                <HBox alignment="CENTER_LEFT" style="-fx-background-color: white; -fx-padding: 12 24; -fx-border-color: #efefef; -fx-border-width: 0 0 1 0;">
                    <!-- Logo/Titre -->
                    <StackPane>
                        <Label text="CéramiqueArt" style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #e60023;"/>
                    </StackPane>

                    <!-- Espacement -->
                    <Region HBox.hgrow="ALWAYS" />

                    <!-- Barre de recherche Pinterest-style -->
                    <HBox alignment="CENTER" style="-fx-background-color: #efefef; -fx-background-radius: 24; -fx-padding: 8 16; -fx-pref-width: 250;">
                        <FontAwesomeIconView glyphName="SEARCH" size="14" style="-fx-fill: #767676;"/>
                        <Region prefWidth="8" />
                        <TextField promptText="Rechercher des œuvres..." style="-fx-background-color: transparent; -fx-focus-color: transparent; -fx-faint-focus-color: transparent; -fx-pref-width: 200;"/>
                    </HBox>

                    <!-- Espacement -->
                    <Region prefWidth="16" />

                    <!-- Boutons d'action -->
                    <Button onAction="#handleAjouterOeuvre" style="-fx-background-color: #e60023; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 24; -fx-padding: 8 16;">
                        <graphic>
                            <HBox alignment="CENTER" spacing="6">
                                <FontAwesomeIconView glyphName="PLUS" size="14" style="-fx-fill: white;"/>
                                <Label text="Ajouter Œuvre" style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                            </HBox>
                        </graphic>
                    </Button>

                    <Region prefWidth="8" />

                    <Button onAction="#handleWorkshopRedirect" style="-fx-background-color: #e60023; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 24; -fx-padding: 8 16;">
                        <graphic>
                            <HBox alignment="CENTER" spacing="6">
                                <FontAwesomeIconView glyphName="CALENDAR" size="14" style="-fx-fill: white;"/>
                                <Label text="Workshop" style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                            </HBox>
                        </graphic>
                    </Button>

                    <Region prefWidth="8" />

                    <Button onAction="#affichercollectionaction" style="-fx-background-color: #f0f0f0; -fx-text-fill: #333333; -fx-background-radius: 24; -fx-padding: 8 16;">
                        <graphic>
                            <HBox alignment="CENTER" spacing="6">
                                <FontAwesomeIconView glyphName="TH" size="14" style="-fx-fill: #333333;"/>
                                <Label text="Collections" style="-fx-text-fill: #333333;"/>
                            </HBox>
                        </graphic>
                    </Button>

                    <!-- Avatar utilisateur (optionnel) -->
                    <Region prefWidth="16" />
                    <StackPane style="-fx-background-color: #f0f0f0; -fx-background-radius: 50; -fx-min-width: 36; -fx-min-height: 36; -fx-max-width: 36; -fx-max-height: 36;">
                        <FontAwesomeIconView glyphName="USER" size="16" style="-fx-fill: #767676;"/>
                    </StackPane>
                </HBox>

                <!-- Barre de filtres Pinterest-style -->
                <ScrollPane hbarPolicy="ALWAYS" vbarPolicy="NEVER" style="-fx-background-color: white; -fx-background: white; -fx-border-color: #efefef; -fx-border-width: 0 0 1 0;" fitToWidth="true" prefHeight="70">
                    <HBox alignment="CENTER_LEFT" spacing="8" style="-fx-padding: 12 24;">
                        <!-- Catégories Pinterest-style -->
                        <Button text="Toutes" style="-fx-background-color: #111111; -fx-text-fill: white; -fx-background-radius: 24; -fx-padding: 8 16;"/>
                        <Button text="Poterie" style="-fx-background-color: #f0f0f0; -fx-text-fill: #333333; -fx-background-radius: 24; -fx-padding: 8 16;"/>
                        <Button text="Technique" style="-fx-background-color: #f0f0f0; -fx-text-fill: #333333; -fx-background-radius: 24; -fx-padding: 8 16;"/>
                        <Button text="Animaux en céramique" style="-fx-background-color: #f0f0f0; -fx-text-fill: #333333; -fx-background-radius: 24; -fx-padding: 8 16;"/>
                        <Button text="Fleurs en céramique" style="-fx-background-color: #f0f0f0; -fx-text-fill: #333333; -fx-background-radius: 24; -fx-padding: 8 16;"/>
                        <Button text="Vase" style="-fx-background-color: #f0f0f0; -fx-text-fill: #333333; -fx-background-radius: 24; -fx-padding: 8 16;"/>
                        <Button text="Fait à la main" style="-fx-background-color: #f0f0f0; -fx-text-fill: #333333; -fx-background-radius: 24; -fx-padding: 8 16;"/>
                        <Button text="Bijou" style="-fx-background-color: #f0f0f0; -fx-text-fill: #333333; -fx-background-radius: 24; -fx-padding: 8 16;"/>
                        <Button text="Art" style="-fx-background-color: #f0f0f0; -fx-text-fill: #333333; -fx-background-radius: 24; -fx-padding: 8 16;"/>
                        <Button text="Ideas pottery" style="-fx-background-color: #f0f0f0; -fx-text-fill: #333333; -fx-background-radius: 24; -fx-padding: 8 16;"/>
                    </HBox>
                </ScrollPane>
            </VBox>
        </top>

        <!-- Contenu principal: GridView Pinterest-style -->
        <center>
            <ScrollPane fx:id="scrollPane" fitToWidth="true" hbarPolicy="NEVER"
                        style="-fx-background: white; -fx-background-color: white; -fx-padding: 0;">
                <FlowPane fx:id="imageContainer" hgap="18" vgap="24"
                          style="-fx-padding: 24; -fx-background-color: white;">
                    <!-- Le contenu sera ajouté dynamiquement par le contrôleur -->
                </FlowPane>
            </ScrollPane>
        </center>
    </BorderPane>
</AnchorPane>